<!DOCTYPE html>
<html>
  <head>
    <title>The did:orb Method v0.1</title>
    <meta charset='utf-8'>
    <script src='https://www.w3.org/Tools/respec/respec-w3c' async class='remove'></script>
    <script class='remove'>
      var respecConfig = {
        specStatus: "unofficial",
        subtitle: "A DID Method for a fediverse of interconnected nodes and witnesses",
        editors: [{
          name: "Troy Ronda", url: "https://www.linkedin.com/in/troyronda/",
          company: "SecureKey", companyURL: "https://securekey.com/"
        }],
        github: "https://github.com/trustbloc/did-method-orb",
        localBiblio: {
          sidetree: {
            title: "Sidetree",
            href: "https://identity.foundation/sidetree/spec/",
            publisher: "Decentralized Identity Foundation",
            status: "Editorâ€™s Draft"
          }
        }
      };
    </script>
  </head>
  <body>
    <section id='abstract'>
      <p>
        Orb is a decentralized identifier (DID) method based on a federated and replicated Verifiable Data Registry (VDR).
        The decentralized network consists of servers that write, monitor, witness, and propogate batches of DID operations.
        The batches form a graph that is propogated and replicated between the servers as content-addressable objects.
        These content-addressable objects can be located via both domain and distributed hash table (DHT) mechanisms.
        Each witness server observes a subset of batches in the graph and includes them in their append-only logs (as Merkle Trees).
        The servers coordinate by propogating batches of DID operations and by monitoring the applicable witness servers' append-only logs.
        The Orb servers form a decentralized network without reliance on a common blockchain for coordination.
      </p>

      <p>
        This document specifies the Orb DID Method along with a data model and rules for representing a graph of batches, 
        the Orb server API, a registry of protocol versions and parameters,
        an [[[activitystreams-core]]] vocabulary and an [[[activitypub]]] profile for propogating batches,
        a [[[rfc7033]]] profile for discovering endpoints, a [[[sidetree]]] protocol profile for encoding DID operations,
        and a [[[rfc6962]]] profile for witness logs.
      </p>
    </section>
    <section id='sotd'>
      <p>
      </p>
    </section>
    
    <section class="informative">
        <h2>Introduction</h2>
        <p>
        </p>

        <p>
          The Orb DID method is an extension of the DIF Sidetree protocol.
          By using the Sidetree protocol, the DID controller forms their own verifiable chain of patches from inception to the current state of the DID document.
          These verifiable chains are included into larger batches by one of the independent hosts and encoded as content-addressable objects.
        </p>

    </section>

    <section class="normative">
        <h2 id="format">The did:orb Format</h2>

        <p>
            The format for the <tt>did:orb</tt> method conforms to the [[[DID-CORE]]] specification.
            The DID scheme consists of the did:orb prefix, the mechanism for discovering content-addressable objects,
            a content identifier (CID) for the minimum node in the DID operation batch graph, and the unique suffix of the DID.
        </p>
        
        <p>  
            The method uses the following ABNF [[rfc5234]] format:
        </p>

        <pre>
          did-orb-format       = "did:orb:" cas-discovery-scheme ":" 
                                 min-graph-cid ":" unique-suffix
          cas-discovery-scheme = dht-scheme / dns-scheme
          dht-scheme           = ( "ipfs" )
          dns-scheme           = "dns:" reg-name
          reg-name             = 1*idchar                ; more constrained than [rfc3986]
          min-graph-cid        = 1*idchar
          unique-suffix        = 1*idchar
        </pre>

        <p>
          See [[?rfc3986]] for the original definition of reg-name and [[DID-CORE]] for the definition of idchar.
        </p>

        <pre class="example" title="An Orb DID that uses the DNS scheme for content discovery">
          did:orb:dns:example.com:bafkreiatkubvbkdidscmqynkyls3iqawdqvthi7e6mbky2amuw3inxsi3y:EiDyOQbbZAa3aiRzeCkV7LOx3SERjjH93EXoIM3UoN4oWg
        </pre>

        <pre class="example" title="An Orb DID that uses the IPFS scheme for content discovery">
          did:orb:ipfs:bafkreiatkubvbkdidscmqynkyls3iqawdqvthi7e6mbky2amuw3inxsi3y:EiDyOQbbZAa3aiRzeCkV7LOx3SERjjH93EXoIM3UoN4oWg
        </pre>
      </section>

    <section class="normative">
        <h2>Operations</h2>

        <p>
        </p>

        <section class="normative">
            <h3>Create</h3>

            <p>
            </p>
        </section>

        <section class="normative">
            <h3>Read</h3>

            <p>
            </p>
        </section>

        <section class="normative">
            <h3>Update</h3>

            <p>
            </p>
        </section>

        <section class="normative">
            <h3>Deactivate</h3>

            <p>
            </p>
        </section>
    </section>

    <section class="normative">
        <h2>Transaction Graph</h2>

        <p>
        </p>

        <section class="normative">
            <h3>Content Addressable Storage</h3>

            <p>
            </p>
        </section>

        <section class="normative">
            <h3>Transaction</h3>

            <p>
            </p>
        </section>

        <section class="normative">
            <h3>Sidetree Protocol</h3>

            <p>
            </p>
        </section>
    </section>

    <section class="normative">
        <h2>Node Interconnections</h2>

        <p>
        </p>
    </section>

    <section class="normative">
        <h2>Witnesses</h2>

        <p>
        </p>
    </section>

    <section class="informative">
        <h2>Security Considerations</h2>

        <p>
        </p>
    </section>
        
    <section class="informative">
      <h2>Privacy Considerations</h2>

      <section class="informative">
        <h3>Keep Personally-Identifiable Information (PII) Private</h3>

        <p>
        </p>
      </section>

      <section class="informative">
        <h3>DID Correlation Risks and Pseudonymous DIDs</h3>

        <p>
        </p>
      </section>
    </section>

    <section id='conformance'>
      <!-- This section is filled automatically by ReSpec. -->
    </section>
  </body>
</html>